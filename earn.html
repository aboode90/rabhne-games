<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฑุจุญ ููุงุท - Rabhne</title>
    <meta name="description" content="ุงุญุตู ุนูู ููุงุท ูู ุฎูุงู ุฅููุงู ุงูููุงู ูุงูุนุฑูุถ ูู ููุตุฉ Rabhne">
    <meta name="keywords" content="ูุณุจ ููุงุท, ุนุฑูุถ, ููุงู, ููุงุท ูุฌุงููุฉ">
    <link rel="stylesheet" href="css/style.css?v=2.2">
    <link rel="stylesheet" href="css/mobile.css?v=2.2">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="img/game.jpg" type="image/x-icon">
    
    <!-- AdSense Code -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR-PUB-ID" crossorigin="anonymous"></script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">๐ฎ Rabhne</div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a>
                <a href="games.html" class="nav-link">ุงูุฃูุนุงุจ</a>
                <a href="earn.html" class="nav-link active">ุงูุนุฑูุถ</a>
                <a href="dashboard.html" class="nav-link">ููุญุฉ ุงูุชุญูู</a>
                <div id="userMenu">
                    <span id="userName"></span>
                    <button class="btn btn-secondary" onclick="logout()">ุฎุฑูุฌ</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content" style="padding: 20px 0;">
        <div class="container">
            <div class="dashboard-header">
                <h1>๐ ุญุงุฆุท ุงูุนุฑูุถ ูุงูููุงู</h1>
                <p>ุฃููู ุงูููุงู ูุงุญุตู ุนูู ุขูุงู ุงูููุงุท!</p>
            </div>

            <!-- Network Selector -->
            <div class="network-selector">
                <button class="network-btn active" onclick="switchNetwork('mylead')">MyLead</button>
                <button class="network-btn" onclick="switchNetwork('cpalead')">CPALead</button>
            </div>

            <!-- MyLead Content -->
            <div id="mylead-content" class="network-content active">
                <div id="wallContainer">
                    <div class="loading-wall">ุฌุงุฑู ุชุฌููุฒ ุงูุนุฑูุถ ูู...</div>
                </div>
            </div>

            <!-- CPALead Content -->
            <div id="cpalead-content" class="network-content">
                <div id="cpaleadContainer">
                    <div class="loading-wall">ุฌุงุฑู ุชุฌููุฒ ุนุฑูุถ CPALead...</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <div class="mobile-bottom-nav">
        <a href="index.html" class="mobile-nav-item">
            <span class="mobile-nav-icon">๐</span>
            <span class="mobile-nav-text">ุงูุฑุฆูุณูุฉ</span>
        </a>
        <a href="earn.html" class="mobile-nav-item active">
            <span class="mobile-nav-icon">๐</span>
            <span class="mobile-nav-text">ุงุฑุจุญ</span>
        </a>
        <a href="dashboard.html" class="mobile-nav-item">
            <span class="mobile-nav-icon">๐</span>
            <span class="mobile-nav-text">ููุญุชู</span>
        </a>
        <a href="support.html" class="mobile-nav-item">
            <span class="mobile-nav-icon">๐ฌ</span>
            <span class="mobile-nav-text">ุงูุฏุนู</span>
        </a>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js?v=2.2"></script>
    <script src="js/auth.js?v=2.2"></script>
    <script>
        const OFFERWALL_URL = "https://reward-me.eu/68bbf3ce-d8bc-11f0-8770-c2a106037d45";

        // Network switching function
        function switchNetwork(network) {
            // Update button states
            document.querySelectorAll('.network-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Show selected content
            document.querySelectorAll('.network-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${network}-content`).classList.add('active');

            // Load content if user is authenticated
            if (currentUser) {
                if (network === 'mylead') {
                    loadMyLeadWall();
                } else if (network === 'cpalead') {
                    loadCPALeadWall();
                }
            }
        }

        function loadMyLeadWall() {
            if (currentUser) {
                const wallUrl = `${OFFERWALL_URL}?player_id=${currentUser.uid}`;
                document.getElementById('wallContainer').innerHTML = `
                    <iframe src="${wallUrl}" 
                            class="iframe-container"
                            sandbox="allow-top-navigation allow-scripts allow-same-origin allow-popups allow-forms"
                            allow="clipboard-write">
                    </iframe>
                    <div class="alert alert-info" style="text-align: right; margin-top: 10px; background: #e8f5e9; border: 1px solid #c8e6c9; padding: 10px; border-radius: 5px;">
                        <strong>โ๏ธ ููุงุญุธุฉ ูุงูุฉ:</strong><br>
                        ุงูููุงุท ุงูููุชุณุจุฉ ูู ุงูุนุฑูุถ ูุง ุชุถุงู ููุฑุงู.<br>
                        ูุชู ูุฑุงุฌุนุฉ ุงูุนุฑูุถ ูุฅุถุงูุฉ ุงูููุงุท <strong>ูุฏููุงู ุฎูุงู 24 - 48 ุณุงุนุฉ</strong>.<br>
                        ูุฑุฌู ุนุฏู ูุชุญ ุชุฐูุฑุฉ ูุจู ูุฑูุฑ ูุฐู ุงููุฏุฉ.
                    </div>
                `;
            }
        }

        function loadCPALeadWall() {
            if (currentUser) {
                // Publisher ID ูู ุญุณุงุจู ูู CPALead
                const publisherId = '3323222'; // ูุฐุง ูู ุงููุนุฑู ุงูุฎุงุต ุจู
                const userId = currentUser.uid;
                
                // ุนุฑุถ ุฒุฑ ููุชุญ ุงูุนุฑูุถ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
                document.getElementById('cpaleadContainer').innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <h3>๐ CPALead ุนุฑูุถ</h3>
                        <p>ุงุถุบุท ุนูู ุงูุฒุฑ ุฃุฏูุงู ููุชุญ ุนุฑูุถ CPALead</p>
                        <button class="btn btn-primary" onclick="openCPALeadOffers()" style="margin: 20px 0; padding: 15px 30px; font-size: 18px;">
                            ูุชุญ ุนุฑูุถ CPALead
                        </button>
                        <div style="width: 100%; height: 400px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: #f8f9fa; margin-top: 20px;">
                            <iframe 
                                src="https://www.cpalead.com/mobile/index.php?pub_id=${publisherId}&sub_id=${userId}" 
                                style="width: 100%; height: 100%; border: none; display: none;"
                                frameborder="0"
                                sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-top-navigation"
                                loading="lazy">
                            </iframe>
                            <div style="padding: 20px; color: #666;">
                                <p>ุณูุชู ุนุฑุถ ุงูุนุฑูุถ ููุง ุจุนุฏ ุงูููุฑ ุนูู ุงูุฒุฑ ุฃุนูุงู</p>
                            </div>
                        </div>
                        <div class="alert alert-info" style="text-align: right; margin-top: 20px; background: #e8f5e9; border: 1px solid #c8e6c9; padding: 10px; border-radius: 5px;">
                            <strong>โ๏ธ ููุงุญุธุฉ ูุงูุฉ:</strong><br>
                            ูุฌุจ ุฅููุงู ุงูุนุฑูุถ ูุจุงุดุฑุฉ ูุถูุงู ุงุญุชุณุงุจ ุงูููุงุท.<br>
                            ุณูุชู ุงุญุชุณุงุจ ุงูููุงุท ุชููุงุฆูุงู ุจุนุฏ ุฅููุงู ุงูุนุฑูุถ.
                        </div>
                    </div>
                `;
            }
        }

        function openCPALeadOffers() {
            const publisherId = '3323222';
            const userId = currentUser.uid;
            const cpaleadUrl = `https://www.cpalead.com/mobile/index.php?pub_id=${publisherId}&sub_id=${userId}`;
            window.open(cpaleadUrl, '_blank');
        }

        auth.onAuthStateChanged((user) => {
            if (user) {
                currentUser = user;
                document.getElementById('userName').textContent = user.displayName || user.email;
                
                // Load default network (MyLead)
                loadMyLeadWall();
            } else {
                // User not logged in
                document.getElementById('wallContainer').innerHTML = `
                    <div style="text-align: center; padding: 40px; background: white; border-radius: 10px;">
                        <h3>๐ ูุฌุจ ุนููู ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู</h3>
                        <p>ูุฑุคูุฉ ุงูุนุฑูุถ ููุณุจ ุงูููุงุทุ ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู.</p>
                        <button class="btn btn-primary" onclick="loginWithGoogle()">ุชุณุฌูู ุงูุฏุฎูู</button>
                    </div>
                `;
                
                document.getElementById('cpaleadContainer').innerHTML = `
                    <div style="text-align: center; padding: 40px; background: white; border-radius: 10px;">
                        <h3>๐ ูุฌุจ ุนููู ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู</h3>
                        <p>ูุฑุคูุฉ ุนุฑูุถ CPALead ููุณุจ ุงูููุงุทุ ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู.</p>
                        <button class="btn btn-primary" onclick="loginWithGoogle()">ุชุณุฌูู ุงูุฏุฎูู</button>
                    </div>
                `;
            }
        });
    </script>
</body>

</html>